!function(){"use strict";function t(t,i){this.element=s(t),this.settings=s.extend(!0,{},a,i),this.promo=null,this.cart=this.element.find("."+this.settings.cart),this.small_cart=this.element.find("."+this.settings.small_cart),this.second_cart=this.element.find("."+this.settings.second_cart),this.wishlist=this.element.find("."+this.settings.wishlist),this.product=this.element.find("."+this.settings.product),this._defaults=a,this._name=e,this.init()}var s=jQuery,e="ctshop",a={cart:"ct-cart",small_cart:"ct-small-cart",product:"ct-product",product_title:"ct-product-title",product_price:"ct-product-price",product_button:"ct-product-button",product_image:"ct-product-image",product_wishlist:"ct-product-wishlist",wishlist:"ct-wishlist",currency:"$",currency_after_number:"false",permanent_cart_buttons:"false",display_total_value:"true",permanent_total_value:"false",animation:"fadeIn",empty_disable:"false",empty_text:"Your cart is empty",display_small_cart:"false",small_cart_options:{display_name:"Cart:",items_name:"item(s)",wishlist:"true",scroll:"false",scroll_style:"dark",scroll_height:"400"},promo_codes:"true",promo_values:{thirty:"30%",twenty:"20%",three:300,mlp:"99.99%"},shipping_option:"true",shipping_types:{"Standard Mail":20,"Express Mail":50,"Next Day Delivery":100},paypal:{business:"eddie@avoli.com",currency_code:"USD",lc:"EN",cpp_cart_border_color:"",cpp_payflow_color:"",no_note:"1",no_shipping:"0",return:"",cancel_return:""},init:!1,before_add_to_cart:!1,after_add_to_cart:!1,remove_item_from_cart:!1,before_checkout:!1,after_clear_cart:!1,after_value_changes:!1,before_add_to_wishlist:!1,after_add_to_wishlist:!1,remove_item_from_wishlist:!1};s.extend(t.prototype,{init:function(){var t=this;if("true"===t.settings.display_small_cart){if("true"===t.settings.currency_after_number)e="0"+t.settings.currency;else var e=t.settings.currency+"0";"true"===t.settings.display_total_value?t.small_cart.append('<i class="fa fa-fw fa-shopping-cart"></i><span class="'+t.settings.small_cart+'-name">'+t.settings.small_cart_options.display_name+'&nbsp;</span><span class="'+t.settings.small_cart+'-quantity">0</span><span class="'+t.settings.small_cart+'-items">&nbsp;'+t.settings.small_cart_options.items_name+'&nbsp; - &nbsp;</span><span class="'+t.settings.small_cart+'-price">'+e+'</span><div class="'+t.settings.cart+'-content" data-mcs-theme="'+t.settings.small_cart_options.scroll_style+'" style="display: none;  position: absolute; cursor: auto"> <div class="'+this.settings.cart+'"></div> </div>').css("cursor","pointer"):t.small_cart.append('<i class="fa fa-fw fa-shopping-cart"></i><span class="'+t.settings.small_cart+'-name">'+t.settings.small_cart_options.display_name+'&nbsp;</span><span class="'+t.settings.small_cart+'-quantity">0</span><span class="'+t.settings.small_cart+'-items">&nbsp;'+t.settings.small_cart_options.items_name+'</span><div class="'+t.settings.cart+'-content" data-mcs-theme="'+t.settings.small_cart_options.scroll_style+'" style="display: none;  position: absolute; cursor: auto"> <div class="'+this.settings.cart+'"></div> </div>').css("cursor","pointer"),"true"===t.settings.small_cart_options.wishlist&&t.small_cart.find("."+t.settings.cart+"-content").append('<div class="'+t.settings.wishlist+'"></div>');var a="."+t.settings.cart+"-content";"true"===t.settings.small_cart_options.scroll&&s(a).addClass("mCustomScrollbar").css("max-height",t.settings.small_cart_options.scroll_height+"px"),t.small_cart.on("mouseenter",function(){s(a).show()}).on("mouseleave",function(){s(a).hide()})}if("true"===t.settings.display_small_cart&&(this.cart=this.element.find("."+this.settings.small_cart+" ."+this.settings.cart)),t.cart=t.cart.append("<ol/>").find("ol"),"true"===t.settings.display_small_cart&&"true"===t.settings.small_cart_options.wishlist&&(this.wishlist=this.element.find("."+this.settings.small_cart+" ."+this.settings.wishlist)),t.settings.wishlist&&(t.wishlist=t.wishlist.append("<ol/>").find("ol"),window.sessionStorage["ct-shopping-wishlist"])){var i=t.wishlist.find("li").length;t.create_storage_wish(),t.remove_item(i,!0)}if(t.permanent_total(),t.permanent_cart_buttons(),window.sessionStorage["ct-shopping-cart"]&&t.cart.length){t.create_storage_cart();var n=t.cart.find("li"),r=n.find("."+t.settings.cart+"-input"),c=n.length;"false"===t.settings.permanent_cart_buttons&&t.add_cart_buttons(),"true"===t.settings.display_total_value&&"false"===t.settings.permanent_total_value&&t.append_total(),"true"===t.settings.promo_codes&&t.add_promo_code(),t.calculate_total_value(),t.quantity_change(r),t.remove_item(c)}t.settings.init&&t.settings.init(),t.cart_empty(),t.product.each(function(e){var a=s(this),i=a.find("."+t.settings.product_image).attr("src"),n=a.find("."+t.settings.product_title),r=a.find("."+t.settings.product_price),c=a.find("."+t.settings.product_button),l=n.text(),o=r.text().replace(",","").replace(/[^\d.]/g,"");t.settings.wishlist&&a.find("."+t.settings.product_wishlist).on("click touchend",function(s){s.preventDefault(),t.settings.before_add_to_wishlist&&t.settings.before_add_to_wishlist(),l=t.check_if_title(n,l),o=t.check_if_price(r,o);var c,p=a.attr("data-id",l.replace(/ /g,"").replace(/\r\n|\r|\n/g,"").replace(/[^a-zA-Z 0-9]+/g,"")+o.replace(/\r\n|\r|\n/g,"").replace(/[^a-zA-Z 0-9]+/g,"")+"_"+(e+1)).attr("data-id"),d=t.wishlist.find("li"),_=t.wishlist.find("[data-id="+p+"]").attr("data-id"),u=t.cart.find("[data-id="+p+"]");return u.length||0===d.length||_===p?0!==d.length||u.length||t.add_to_wishlist(l,o,p,i):t.add_to_wishlist(l,o,p,i),d=t.wishlist.find("li"),c=d.length,t.remove_item(c,!0),t.settings.after_add_to_wishlist&&t.settings.after_add_to_wishlist(),!1}),c.on("click touchend",function(c){c.preventDefault(),t.settings.before_add_to_cart&&t.settings.before_add_to_cart(),l=t.check_if_title(n,l),o=t.check_if_price(r,o);var p,d=a.attr("data-id",l.replace(/ /g,"").replace(/\r\n|\r|\n/g,"").replace(/[^a-zA-Z 0-9]+/g,"")+o.replace(/\r\n|\r|\n/g,"").replace(/[^a-zA-Z 0-9]+/g,"")+"_"+(e+1)).attr("data-id"),_=t.cart.find("li"),u=t.cart.find("[data-id="+d+"]"),g=u.attr("data-id"),m=_.find("."+t.settings.cart+"-input");return 0!==_.length?g!==d?t.add_to_cart(l,o,d,i):u.find("input").val(function(t,s){return parseInt(s,10)+1}):(t.add_to_cart(l,o,d,i),"false"===t.settings.permanent_cart_buttons&&t.add_cart_buttons(),"true"===t.settings.display_total_value&&"false"===t.settings.permanent_total_value&&t.append_total(),"true"===t.settings.promo_codes&&t.add_promo_code()),t.settings.wishlist&&s("."+t.settings.wishlist).find("[data-id="+d+"]").remove(),_=t.cart.find("li"),m=_.find("."+t.settings.cart+"-input"),p=_.length,t.quantity_change(m),t.calculate_total_value(),t.remove_item(p),t.wish_storage_set(),t.settings.after_add_to_cart&&t.settings.after_add_to_cart(),!1})})},add_to_wishlist:function(t,s,e,a){var i=this;i.settings.product_image?"true"===i.settings.currency_after_number?i.wishlist.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><div class="+i.settings.wishlist+"-left><img src="+a+" /></div><div class="+i.settings.wishlist+"-body><span class="+i.settings.wishlist+"-name>"+t+"</span><span class="+i.settings.wishlist+"-price>"+s+i.settings.currency+"</span><button class="+i.settings.wishlist+"-remove>&times;</button><button class="+i.settings.wishlist+"-add-to-cart>Add To Cart</button></div></li>"):i.wishlist.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><div class="+i.settings.wishlist+"-left><img src="+a+" /></div><div class="+i.settings.wishlist+"-body><span class="+i.settings.wishlist+"-name>"+t+"</span><span class="+i.settings.wishlist+"-price>"+i.settings.currency+s+"</span><button class="+i.settings.wishlist+"-remove>&times;</button><button class="+i.settings.wishlist+"-add-to-cart>Add To Cart</button></div></li>"):"true"===i.settings.currency_after_number?i.wishlist.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><span class="+i.settings.wishlist+"-name>"+t+"</span><span class="+i.settings.wishlist+"-price>"+s+i.settings.currency+"</span><button class="+i.settings.wishlist+"-remove>&times;</button><button class="+i.settings.wishlist+"-add-to-cart>Add To Cart</button></li>"):i.wishlist.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><span class="+i.settings.wishlist+"-name>"+t+"</span><span class="+i.settings.wishlist+"-price>"+i.settings.currency+s+"</span><button class="+i.settings.wishlist+"-remove>&times;</button><button class="+i.settings.wishlist+"-add-to-cart>Add To Cart</button></li>"),i.wishlist_add_to_cart(),i.wish_storage_set()},quantity_count:function(){var t=this,e=0;t.cart.find("li").each(function(){var t=s(this);e+=parseFloat(t.find("input").val())}),s("."+t.settings.small_cart+"-quantity").html(e)},add_to_cart:function(t,s,e,a){var i=this;i.settings.product_image?"true"===i.settings.currency_after_number?i.cart.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><div class="+i.settings.cart+"-left><img src="+a+" /></div><div class="+i.settings.cart+"-body><span class="+i.settings.cart+"-name>"+t+"</span><span class="+i.settings.cart+"-price>"+s+i.settings.currency+'</span><input type="number" min="1" value="1" class='+i.settings.cart+"-input><button class="+i.settings.cart+"-remove>&times;</button></div></li>"):i.cart.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><div class="+i.settings.cart+"-left><img src="+a+" /></div><div class="+i.settings.cart+"-body><span class="+i.settings.cart+"-name>"+t+"</span><span class="+i.settings.cart+"-price>"+i.settings.currency+s+'</span><input type="number" min="1" value="1" class='+i.settings.cart+"-input><button class="+i.settings.cart+"-remove>&times;</button></div></li>"):"true"===i.settings.currency_after_number?i.cart.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><span class="+i.settings.cart+"-name>"+t+"</span><span class="+i.settings.cart+"-price>"+s+i.settings.currency+'</span><input type="number" min="1" value="1" class='+i.settings.cart+"-input><button class="+i.settings.cart+"-remove>&times;</button></li>"):i.cart.append('<li class="animated '+i.settings.animation+'" data-id='+e+"><span class="+i.settings.cart+"-name>"+t+"</span><span class="+i.settings.cart+"-price>"+i.settings.currency+s+'</span><input type="number" min="1" value="1" class='+i.settings.cart+"-input><button class="+i.settings.cart+"-remove>&times;</button></li>")},add_cart_buttons:function(){var t=this;if("true"===t.settings.shipping_option){t.cart.parent().append("<select class="+t.settings.cart+"-shipping></select>");for(var s in t.settings.shipping_types){var e=t.settings.shipping_types[s];t.cart.parent().find("select").append('<option data-price="'+e+'" data-name="'+s+'">'+s+" - "+e+" "+t.settings.currency+"</option>")}t.cart.parent().find("."+t.settings.cart+"-shipping").change(function(){t.calculate_total_value()})}t.cart.parent().append('<button class="'+t.settings.cart+'-clear">Clear</button>'),t.cart.parent().append('<button type="submit" class="'+t.settings.cart+'-checkout">Checkout</button>'),t.clear_cart(),t.checkout_button()},checkout:function(){var t,e=this,a={cmd:"_cart",upload:1},i=s("<form />"),n={name:"item_name",quantity:"quantity",amount:"amount"};s.extend(a,e.settings.paypal),i.attr("action","https://www.paypal.com/cgi-bin/webscr"),i.attr("method","post"),i.attr("target","_blank");for(var r in a)(t=s('<input type="hidden" />')).attr("name",r),t.attr("value",a[r]),i.append(t);if(e.cart.find("li").each(function(t){var a=s(this),r=a.find("."+e.settings.cart+"-name").text(),c=parseFloat(a.find("."+e.settings.cart+"-price").text().replace(/^\D+/g,"")),l=a.find("input").val(),o={name:s("<input />",{type:"hidden",name:n.name+"_"+(t+1),value:r}),amount:s("<input />",{type:"hidden",name:n.amount+"_"+(t+1),value:c}),quantity:s("<input />",{type:"hidden",name:n.quantity+"_"+(t+1),value:l})};i.append(o.name).append(o.amount).append(o.quantity)}),"true"===e.settings.shipping_option){var c=e.cart.parent().find("."+e.settings.cart+"-shipping option:selected").data("price");i.append('<input type="hidden" name="handling_cart" value="'+c+'">')}"number"==typeof e.promo?i.append(s("<input />",{type:"hidden",name:"discount_amount_cart",value:e.promo})):e.promo&&i.append(s("<input />",{type:"hidden",name:"discount_rate_cart",value:parseFloat(e.promo)})),s("body").append(i),i.submit(),i.remove()},checkout_button:function(){var t=this;s("."+t.settings.cart+"-checkout").unbind().on("click",function(){t.settings.before_checkout&&t.settings.before_checkout(),t.checkout()})},remove_item:function(t,e){var a=this,i=a.settings.cart,n=a.cart;e&&(i=a.settings.wishlist,n=a.wishlist),s("."+i+"-remove").unbind().on("click",function(){var t=s(this),i=n.find("li").length;t.closest("li").remove(),e?(a.wish_storage_set(),1===i&&a.wish_storage_clear(),a.settings.remove_item_from_wishlist&&a.settings.remove_item_from_wishlist()):(a.calculate_total_value(),a.storage_set(),1===i&&(a.remove_cart_buttons(),a.remove_promo_code(),a.remove_total(a.total),a.storage_clear(),"true"===a.settings.currency_after_number&&"true"===a.settings.display_total_value?a.small_cart_total.html(result+a.settings.currency):"true"===a.settings.display_total_value&&a.small_cart_total.html(a.settings.currency+result)),a.settings.remove_item_from_cart&&a.settings.remove_item_from_cart())})},clear_cart:function(){var t=this;s("."+t.settings.cart+"-clear").on("click",function(){t.cart.find("li").each(function(){s(this).remove()}),t.remove_cart_buttons(),t.remove_promo_code(),t.remove_total(t.total),t.storage_clear(),t.cart_empty(),t.quantity_count(),t.settings.after_clear_cart&&t.settings.after_clear_cart(),"true"===t.settings.currency_after_number&&"true"===t.settings.display_total_value?t.small_cart_total.html("0"+t.settings.currency):"true"===t.settings.display_total_value&&t.small_cart_total.html(t.settings.currency+"0"),s("."+t.settings.cart+"-content").hide()})},remove_cart_buttons:function(){var t=this;"false"===t.settings.permanent_cart_buttons&&t.cart.parent().find("button").remove(),"true"===t.settings.shipping_option&&t.cart.parent().find("."+t.settings.cart+"-shipping").remove()},check_if_title:function(t,s){return 0!==t.find("select").length?s=0!==t.find("span").length?t.find("span").text()+" - "+t.find("option:selected").val():t.find("option:selected").text():0!==t.find("input").length?s=t.find("input").val():t.is(":empty")&&(s=t.val()),s},check_if_price:function(t,s){return 0!==t.find("select").length?s=t.find("option:selected").val().replace(/^\D+/g,""):0!==t.find("input").length&&(s=t.find("input").val().replace(/^\D+/g,"")),s},permanent_cart_buttons:function(){var t=this;"true"===t.settings.permanent_cart_buttons&&t.add_cart_buttons()},add_promo_code:function(){var t=this,e=s("."+t.settings.cart+"-promo");"true"!==t.settings.promo_codes||e.length||s("."+t.settings.cart).prepend('<form class="'+t.settings.cart+'-promo"><input type="text" placeholder="Enter your promo code here" /></form>'),t.promo_change()},remove_promo_code:function(){s("."+this.settings.cart+"-promo").remove()},calculate_promo:function(t){var e=this,a=s("."+e.settings.cart+"-promo input").val(),i=e.settings.promo_values,n=t;return s.each(i,function(s,i){a===s&&(n="number"==typeof i?t-i:t-t*(parseFloat(i)/100),e.promo=i)}),n=parseFloat(n.toString()).toFixed(2)},promo_change:function(){var t=this;s("."+t.settings.cart+"-promo input").on("change keyup",function(){t.calculate_total_value()})},calculate_total_value:function(){var t=this,e=0,a=0;if(t.cart.find("li").each(function(){var e=parseFloat(s(this).find("."+t.settings.cart+"-price").text().replace(/^\D+/g,"")),i=s(this).find("input").val();a+=e*i}),"true"===t.settings.shipping_option){var i=t.cart.parent().find("."+t.settings.cart+"-shipping option:selected").data("price");a+=i,e=parseFloat(a.toString()).toFixed(2),e=t.calculate_promo(e)}else e=parseFloat(a.toString()).toFixed(2),e=t.calculate_promo(e);return"true"===t.settings.display_total_value&&("true"===t.settings.currency_after_number?t.total.html(e+t.settings.currency):t.total.html(t.settings.currency+e)),"true"===t.settings.display_small_cart&&("true"===t.settings.currency_after_number&&"true"===t.settings.display_total_value?t.small_cart_total.html(e+t.settings.currency):"true"===t.settings.display_total_value&&t.small_cart_total.html(t.settings.currency+e)),t.cart_empty(),t.settings.after_value_changes&&t.settings.after_value_changes(),t.storage_set(),"true"===t.settings.display_small_cart&&t.quantity_count(),e},quantity_change:function(t,s){var e=this;t.change(function(){e.calculate_total_value(s),"true"===e.settings.display_small_cart&&e.quantity_count()})},append_total:function(){var t=this;t.total=t.cart.parent().prepend('<span class="'+t.settings.cart+'-total">').find("."+t.settings.cart+"-total"),t.small_cart_total=s("."+t.settings.small_cart+"-price")},remove_total:function(t){var s=this;"true"===s.settings.display_total_value&&"false"===s.settings.permanent_total_value?t.remove():"true"===s.settings.permanent_total_value&&"true"===s.settings.display_total_value&&s.calculate_total_value(t)},permanent_total:function(){var t=this;"true"===t.settings.permanent_total_value&&"true"===t.settings.display_total_value&&(t.append_total(),"true"===t.settings.display_total_value&&("true"===t.settings.currency_after_number?t.total.html("0"+t.settings.currency):t.total.html(t.settings.currency+"0")))},storage_set:function(){var t=this,e={items:[]};s(t.cart).find("li").each(function(){var a=s(this),i=a.attr("data-id"),n={name:a.find("."+t.settings.cart+"-name").text(),id:i,price:a.find("."+t.settings.cart+"-price").text(),input:a.find("input").val(),image:a.find("img").attr("src")};e.items.push(n)}),window.sessionStorage.setItem("ct-shopping-cart",JSON.stringify(e))},storage_get:function(){var t=window.sessionStorage["ct-shopping-cart"];return t=JSON.parse(t)},storage_clear:function(){window.sessionStorage.removeItem("ct-shopping-cart")},wish_storage_set:function(){var t=this,e={items:[]};s(t.wishlist).find("li").each(function(){var a=s(this),i=a.attr("data-id"),n={name:a.find("."+t.settings.wishlist+"-name").text(),id:i,price:a.find("."+t.settings.wishlist+"-price").text(),image:a.find("img").attr("src")};e.items.push(n)}),window.sessionStorage.setItem("ct-shopping-wishlist",JSON.stringify(e))},wish_storage_get:function(){var t=window.sessionStorage["ct-shopping-wishlist"];return t=JSON.parse(t)},wish_storage_clear:function(){window.sessionStorage.removeItem("ct-shopping-wishlist")},create_storage_wish:function(){for(var t=this,s=t.wish_storage_get(),e=0,a=s.items.length;e<a;e++){var i=s.items[e].id,n=s.items[e].name,r=s.items[e].price,c=s.items[e].image;t.settings.product_image?t.wishlist.append('<li class="animated '+t.settings.animation+'" data-id='+i+"><div class="+t.settings.wishlist+"-left><img src="+c+" /></div><div class="+t.settings.wishlist+"-body><span class="+t.settings.wishlist+"-name>"+n+"</span><span class="+t.settings.wishlist+"-price>"+r+"</span><button class="+t.settings.wishlist+"-remove>&times;</button><button class="+t.settings.wishlist+"-add-to-cart>Add To Cart</button></div></li>"):t.wishlist.append('<li class="animated '+t.settings.animation+'" data-id='+i+"><span class="+t.settings.wishlist+"-name>"+n+"</span><span class="+t.settings.wishlist+"-price>"+r+"</span><button class="+t.settings.wishlist+"-remove>x</button><button class="+t.settings.wishlist+"-add-to-cart>Add To Cart</button></li>")}t.wishlist_add_to_cart()},create_storage_cart:function(){for(var t=this,s=t.storage_get(),e=0,a=s.items.length;e<a;e++){var i=s.items[e].id,n=s.items[e].name,r=s.items[e].price,c=s.items[e].image,l=s.items[e].input;t.settings.product_image?t.cart.append('<li class="animated '+t.settings.animation+'" data-id='+i+"><div class="+t.settings.cart+"-left><img src="+c+" /></div><div class="+t.settings.cart+"-body><span class="+t.settings.cart+"-name>"+n+"</span><span class="+t.settings.cart+"-price>"+r+'</span><input type="number" min="1" value="'+l+'" class='+t.settings.cart+"-input><button class="+t.settings.cart+"-remove>&times;</button></div></li>"):t.cart.append('<li class="animated '+t.settings.animation+'" data-id='+i+"><span class="+t.settings.cart+"-name>"+n+"</span><span class="+t.settings.cart+"-price>"+r+'</span><input type="number" min="1" value="'+l+'" class='+t.settings.cart+"-input><button class="+t.settings.cart+"-remove>x</button></li>")}},cart_empty:function(){var t=this,e=t.settings.cart+"-empty";"false"===t.settings.empty_disable&&(t.cart.find("li").length?s("."+e).remove():t.cart.parent().prepend('<span class="'+e+'">'+t.settings.empty_text+"</span>"))},wishlist_add_to_cart:function(){var t=this;t.wishlist.find("li").each(function(){var e=s(this);return e.find("."+t.settings.wishlist+"-add-to-cart").on("click touchend",function(s){s.preventDefault();var a,i=e.attr("data-id"),n=e.find("."+t.settings.wishlist+"-name").text(),r=e.find("."+t.settings.wishlist+"-price").text().replace(",","").replace(/[^\d.]/g,""),c=e.find("img").attr("src"),l=t.cart.find("li"),o=t.cart.find("[data-id="+i+"]").attr("data-id"),p=l.find("."+t.settings.cart+"-input");0!==l.length?o!==i&&t.add_to_cart(n,r,i,c):(t.add_to_cart(n,r,i,c),"false"===t.settings.permanent_cart_buttons&&t.add_cart_buttons(),"true"===t.settings.display_total_value&&"false"===t.settings.permanent_total_value&&t.append_total(),t.add_promo_code()),p=(l=t.cart.find("li")).find("."+t.settings.cart+"-input"),a=l.length,t.quantity_change(p),t.calculate_total_value(),t.remove_item(a),e.remove(),t.wish_storage_set()}),!1})},absolute_url:function(){return window.location.href.split("/").pop(),"uploads/images/products/","uploads/images/products/"}}),s.fn[e]=function(a){return this.each(function(){s.data(this,"plugin_"+e)||s.data(this,"plugin_"+e,new t(this,a))})}}();