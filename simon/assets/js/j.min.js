"use strict";var j={};j.toggleShow=function(e){var t,n=j.getElements(e),l=n.length;for(t=0;t<l;t++)"none"==n[t].style.display?j.styleElement(n[t],"display","block"):j.styleElement(n[t],"display","none")},j.hide=function(e){j.hideElements(j.getElements(e))},j.hideElements=function(e){var t,n=e.length;for(t=0;t<n;t++)j.hideElement(e[t])},j.show=function(e,t){var n=j.getElements(e);t&&j.hideElements(n),j.showElements(n)},j.showElements=function(e){var t,n=e.length;for(t=0;t<n;t++)j.showElement(e[t])},j.showElement=function(e){j.styleElement(e,"display","block")},j.hideElement=function(e){j.styleElement(e,"display","none")},j.addStyle=function(e,t,n){j.styleElements(j.getElements(e),t,n)},j.styleElements=function(e,t,n){var l,s=e.length;for(l=0;l<s;l++)j.styleElement(e[l],t,n)},j.styleElement=function(e,t,n){e.style.setProperty(t,n)},j.addClass=function(e,t){j.addClassElements(j.getElements(e),t)},j.addClassElement=function(e,t){var n,l,s;for(l=e.className.split(" "),s=t.split(" "),n=0;n<s.length;n++)-1==l.indexOf(s[n])&&(e.className+=" "+s[n])},j.addClassElements=function(e,t){var n,l=e.length;for(n=0;n<l;n++)j.addClassElement(e[n],t)},j.removeClass=function(e,t){j.removeClassElements(j.getElements(e),t)},j.removeClassElement=function(e,t){var n,l,s;for(l=e.className.split(" "),s=t.split(" "),n=0;n<s.length;n++)for(;l.indexOf(s[n])>-1;)l.splice(l.indexOf(s[n]),1);e.className=l.join(" ")},j.removeClassElements=function(e,t){var n,l=e.length;for(n=0;n<l;n++)(void 0).removeClassElement(e[n],t)},j.toggleClass=function(e,t,n){j.toggleClassElements(j.getElements(e),t,n)},j.toggleClassElement=function(e,t,n){var l,s,r,o,a,i,c;if(l=t||"",s=n||"",r=l.split(" "),o=s.split(" "),i=e.className.split(" "),0==o.length){for(c=!0,a=0;a<r.length;a++)-1==i.indexOf(r[a])&&(c=!1);c?a.removeClassElement(e,l):a.addClassElement(e,l)}else{for(c=!0,a=0;a<r.length;a++)-1==i.indexOf(r[a])&&(c=!1);c?(a.removeClassElement(e,l),a.addClassElement(e,s)):(a.removeClassElement(e,s),a.addClassElement(e,l))}},j.toggleClassElements=function(e,t,n){var l,s=e.length;for(l=0;l<s;l++)j.toggleClassElement(e[l],t,n)},j.getElements=function(e){return"object"==typeof e?[e]:document.querySelectorAll(e)},j.filterHTML=function(e,t,n){var l,s,r,o,a,i,c;for(l=j.getElements(e),o=0;o<l.length;o++)for(s=j.getElements(t),a=0;a<s.length;a++){for(c=0,s[a].innerHTML.toUpperCase().indexOf(n.toUpperCase())>-1&&(c=1),r=s[a].getElementsByTagName("*"),i=0;i<r.length;i++)r[i].innerHTML.toUpperCase().indexOf(n.toUpperCase())>-1&&(c=1);s[a].style.display=1==c?"":"none"}},j.slideshow=function(e,t,n){var l,s=j.getElements(e);s.length;return l={},l.current=1,l.x=s,l.ondisplaychange=n,isNaN(t)&&0!=t?l.milliseconds=4e3:l.milliseconds=t,l.start=function(){l.display(l.current),l.ondisplaychange&&l.ondisplaychange(),l.milliseconds>0&&(window.clearTimeout(l.timeout),l.timeout=window.setTimeout(l.next,l.milliseconds))},l.next=function(){l.current+=1,l.current>l.x.length&&(l.current=1),l.start()},l.previous=function(){l.current-=1,l.current<1&&(l.current=l.x.length),l.start()},l.display=function(e){j.styleElements(l.x,"display","none"),j.styleElement(l.x[e-1],"display","block")},l.start(),l},j.includeHTML=function(e){var t,n,l,s,r;for(t=document.getElementsByTagName("*"),n=0;n<t.length;n++)if(l=t[n],s=l.getAttribute("j-include-html"))return r=new XMLHttpRequest,r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(l.innerHTML=this.responseText,l.removeAttribute("j-include-html"),j.includeHTML(e))},r.open("GET",s,!0),void r.send();e&&e()},j.sortHTML=function(e,t,n){var l,s,r,o,a,i,c,u,d,f;for(l=f.getElements(e),r=0;r<l.length;r++)for(f=0;f<2;f++){for(d=0,a=1;1==a;){for(a=0,s=l[r].querySelectorAll(t),o=0;o<s.length-1;o++)if(i=0,n?(c=s[o].querySelector(n).innerHTML.toLowerCase(),u=s[o+1].querySelector(n).innerHTML.toLowerCase()):(c=s[o].innerHTML.toLowerCase(),u=s[o+1].innerHTML.toLowerCase()),0==f&&c>u||1==f&&c<u){i=1;break}1==i&&(s[o].parentNode.insertBefore(s[o+1],s[o]),a=1,d++)}if(d>0)break}},j.displayHttp=function(e,t){j.http(t,function(){4==this.readyState&&200==this.status&&j.displayObject(e,JSON.parse(this.responseText))})},j.getHttpData=function(e,t){j.http(e,function(){4==this.readyState&&200==this.status&&t(this.responseText)})},j.getHttpObject=function(e,t){j.http(e,function(){4==this.readyState&&200==this.status&&t(JSON.parse(this.responseText))})},j.http=function(e,t,n,l){var s;l||(l="GET"),window.XMLHttpRequest?s=new XMLHttpRequest:window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLHTTP")),s&&(t&&(s.onreadystatechange=t),s.open(l,e,!0),s.send(n))},j.getElementsByAttribute=function(e,t){var n,l,s=[],r=-1,o=e.getElementsByTagName("*"),a=t.toUpperCase();for(l=o.length,n=-1;n<l;n+=1)-1==n&&(o[n]=e),null!==o[n].getAttribute(a)&&(s[r+=1]=o[n]);return s},j.dataObject={},j.displayObject=function(e,t){function n(e,t,n){var l,s,r,e;if(e.hasAttributes())for(s=(l=e.attributes).length,r=0;r<s;r+=1)l[r].value.indexOf(t)>-1&&(l[r].value=l[r].value.replace(t,n));s=e.getElementsByTagName("*").length,e.innerHTML=e.innerHTML.replace(t,n)}function l(e,l,s,r){var o,a,i,c,u,d,f,m,j,g=[];for(a=e.cloneNode(!0),i=0;i>-1&&(u="attribute"==l?a.value:a.innerHTML,-1!==(i=u.indexOf("{{",i)));){for(c=u.indexOf("}}",i+1),g=(d=u.substring(i+2,c)).split("||"),o=void 0,f=0;f<g.length&&(g[f]=g[f].replace(/^\s+|\s+$/gm,""),r&&(o=r[g[f]]),void 0==o&&t&&(o=t[g[f]]),void 0==o&&(m=g[f].split("."))[0]==s&&(o=r[m[1]]),void 0==o&&g[f]==s&&(o=r),void 0==o&&('"'==g[f].substr(0,1)?o=g[f].replace(/"/g,""):"'"==g[f].substr(0,1)&&(o=g[f].replace(/'/g,""))),void 0==o);f+=1);void 0!=o&&(j="{{"+d+"}}","attribute"==l?a.value=a.value.replace(j,o):n(a,j,o)),i+=1}return a}var s,r,o,a,i,c,u,d,f,m,j,g,p=[],h="";for(r=function(e,t){var n;return n=t.cloneNode(!0),u.dataObject.hasOwnProperty(e)?u.dataObject[e]:(u.dataObject[e]=n,n)}(e,s=document.getElementById(e)).cloneNode(!0),a=(p=u.getElementsByAttribute(r,"j-repeat")).length,u=a-1;u>=0;u-=1)if(m=p[u].getAttribute("j-repeat").split(" "),1==m.length?j=m[0]:(h=m[0],j=m[2]),p[u].removeAttribute("j-repeat"),(g=t[j])&&"object"==typeof g&&"undefined"!=g.length){d=0;for(c in g){for(d+=1,o=(i=l(i=p[u],"element",h,g[c])).attributes,f=0;f<o.length;f+=1)o[f].value=l(o[f],"attribute",h,g[c]).value;d===g.length?p[u].parentNode.replaceChild(i,p[u]):p[u].parentNode.insertBefore(i,p[u])}}else console.log("j-repeat should be an array. "+j+" is not an array.");r=l(r,"element"),s.parentNode.replaceChild(r,s)};